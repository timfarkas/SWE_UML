@startuml Volunteer Application State Machine
[*] --> Drafted

Drafted --> Submitted : Submit application
Submitted --> UnderReview : Organizer reviews
UnderReview -r-> Accepted : Application approved
UnderReview --> NeedsMoreInfo : Request additional info
UnderReview --> Declined : Application rejected

NeedsMoreInfo --> UnderReview : Information provided

Accepted -r-> Active : Onboarding complete
Active --> Completed : Opportunity finished
Active --> Withdrawn : Volunteer withdraws
Active --> Removed : Organizer removes

Withdrawn --> [*]
Removed --> [*]
Completed --> FeedbackPending : Awaiting feedback
FeedbackPending --> Closed : Feedback submitted
Declined --> Closed : Notifications sent
Closed --> [*]

state Submitted {
  [*] --> AwaitingInitialReview
  AwaitingInitialReview -r-> SkillMatching : Initial review passed
  SkillMatching --> [*]
}

state Active {
  [*] --> Onboarding
  Onboarding -r-> InProgress : Onboarding completed
  InProgress -r-> FinalStage : Near completion
  FinalStage --> [*]
}

state Completed {
  [*] --> ImpactRecording
  ImpactRecording -r-> VolunteerFeedback : Impact recorded
  VolunteerFeedback --> [*]
}

@enduml